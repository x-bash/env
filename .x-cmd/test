# shellcheck shell=sh disable=SC1072 #source

xws install
___X_CMD_XRC_MODULE_IMPORTED=
advise rm ___x_cmd_env_main
xrc env
x log env

case $1 in
    python)
        . "$(x wsroot)/.x-cmd/testcases/python"
        x env install python py39_4.10.3
        # x env uninstall python py38_4.10.1
        # x env current
        x env exec python py39_4.10.3 -V
        ;;
    node)
        x env install node v14.17.1
        x env use node v14.17.1
        x env current node
        x env exec node v14.17.1 -v
        ;;
    java)
        . "$(x wsroot)/.x-cmd/testcases/java"
        x env install java 17.0.2.8.1-amzn
        x env uninstall java 17.0.2.8.1-amzn
        # x env use java
        # x env current
        x env exec java 17.0.2.8.1-amzn -version
        ;;
    *)
        echo "Usage: x test python|node|java"
        ;;
esac